# ISAE-farmbot-2021-23

This repository contains a complete set of files (.py, .txt, .csv, .pddl and FF solver) which have been utilized for the Farmbot Research Project at ISAE-SUPAERO 2021-23. The majority of them are required to run the FF solver, thus everything should be downloaded. However, the most important ones which have been nominated in the report of June 2022 are:
- farmbot.py
- example.py 
- pddlcreator.py 
- problem.pddl 
- domain.pddl
- plan.txt
- parser.py
- sequence.txt
- example_updated.py
- data.csv

# Requirements to run the codes

- farmbot official Python library, which can be installed by following the instructions on https://github.com/FarmBot/farmbot-py
- csv library
- py2pddl library

# Files explanation

- **pddlcreator.py** generates the domain.pddl file and the problem.pddl file (easier way to write pddl files using python language) with cmd:
```
python -m py2pddl.parse pddlcreator.py
```
 
- **plan.txt** is the classical planning generated by the ff solver using the domain.pddl file and the problem.pddl file with cmd: 
```
./ff -o domain.pddl -f problem.pddl >plan.txt
```

- **parser.py** (parser) reads plan.txt and generates sequence.txt
- **sequence.txt** contains the saved vector containing all the cmds that will be executed by the robot using the example_updated.py file
- **example_updated.py** file can be run to send the commands of sequence.txt to the Farmbot
- **data.csv** the values of the soil sensor are stored in this file in the form of a csv file

# In short, the different steps:

the user should
1. run the pddlcreator.py to create the 2 pddl files
2. run the ff solver to generate the classical planning which puts the result in plan.txt
3. run the parser.py file to parse the classical planning which will save the result in sequence.txt
4. run the example_updated.py file which will send the commands to the Farmbot

